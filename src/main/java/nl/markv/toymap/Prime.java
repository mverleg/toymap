package nl.markv.toymap;

import java.util.Arrays;

public enum Prime {
    ;

    private static final int[] SPACED_PRIMES = new int[]{
            2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 47, 53, 59, 67, 71, 79, 83, 89, 97, 103, 109, 127, 137,
            149, 157, 167, 179, 191, 211, 223, 239, 251, 269, 283, 307, 331, 349, 367, 389, 409, 431, 457, 487, 521,
            557, 587, 617, 653, 691, 727, 769, 809, 853, 907, 953, 1009, 1061, 1117, 1181, 1249, 1319, 1399, 1471,
            1549, 1627, 1709, 1801, 1901, 1997, 2099, 2207, 2333, 2459, 2591, 2729, 2879, 3023, 3181, 3343, 3511,
            3691, 3877, 4073, 4283, 4507, 4733, 4973, 5227, 5501, 5779, 6073, 6379, 6701, 7039, 7393, 7789, 8179,
            8597, 9029, 9491, 9967, 10477, 11003, 11579, 12161, 12781, 13421, 14107, 14813, 15559, 16339, 17159,
            18041, 18947, 19913, 20921, 21977, 23081, 24239, 25453, 26729, 28069, 29473, 30949, 32497, 34123, 35831,
            37633, 39521, 41507, 43591, 45779, 48073, 50497, 53047, 55711, 58511, 61441, 64553, 67783, 71191, 74759,
            78497, 82457, 86587, 90917, 95467, 100267, 105319, 110587, 116131, 121949, 128047, 134471, 141199, 148279,
            155693, 163481, 171659, 180247, 189271, 198761, 208721, 219169, 230137, 241651, 253741, 266447, 279779,
            293773, 308467, 323899, 340103, 357109, 374977, 393727, 413417, 434107, 455827, 478627, 502591, 527729,
            554117, 581843, 610957, 641513, 673609, 707293, 742663, 779797, 818813, 859783, 902777, 947917, 995327,
            1045111, 1097377, 1152287, 1209931, 1270429, 1333963, 1400669, 1470709, 1544311, 1621537, 1702627,
            1787783, 1877177, 1971049, 2069603, 2173099, 2281771, 2395867, 2515673, 2641459, 2773549, 2912227,
            3057839, 3210743, 3371297, 3539863, 3716857, 3902713, 4097869, 4302763, 4517911, 4743821, 4981019,
            5230091, 5491597, 5766203, 6054527, 6357287, 6675161, 7008943, 7359397, 7727371, 8113753, 8519471,
            8945449, 9392729, 9862379, 10355509, 10873327, 11417011, 11987863, 12587257, 13216631, 13877497,
            14571379, 15299951, 16064969, 16868221, 17711647, 18597233, 19527103, 20503459, 21528673, 22605109,
            23735377, 24922147, 26168293, 27476731, 28850597, 30293141, 31807807, 33398203, 35068133, 36821557,
            38662643, 40595777, 42625619, 44756917, 46994803, 49344587, 51811817, 54402409, 57122557, 59978701,
            62977643, 66126547, 69432889, 72904543, 76549799, 80377289, 84396187, 88616027, 93046847, 97699201,
            102584179, 107713391, 113099087, 118754171, 124691899, 130926517, 137472857, 144346511, 151563851,
            159142051, 167099173, 175454159, 184226873, 193438237, 203110153, 213265667, 223929011, 235125463,
            246881743, 259225859, 272187163, 285796541, 300086383, 315090707, 330845243, 347387533, 364756921,
            382994779, 402144521, 422251751, 443364343, 465532579, 488809213, 513249689, 538912183, 565857793,
            594150703, 623858243, 655051171, 687803773, 722193973, 758303677, 796218877, 836029847, 877831343,
            921722951, 967809121, 1016199631, 1067009623, 1120360121, 1176378131, 1235197079, 1296956957, 1361804893,
            1429895153, 1501389913, 1576459433, 1655282407, 1738046537, 1824948893, 1916196353, 2012006173,
            2112606521, 2147483647};
    //TODO @mark: increase ratio by adding more primes

    public static int primeAbove(int minimum) {
        int primeIx = Arrays.binarySearch(SPACED_PRIMES, minimum);
        if (primeIx < 0) {
            return SPACED_PRIMES[-primeIx - 1];
        } else {
            return SPACED_PRIMES[primeIx];
        }
    }

    public static int largestIntPrime() {
        return SPACED_PRIMES[SPACED_PRIMES.length - 1];
    }
}
